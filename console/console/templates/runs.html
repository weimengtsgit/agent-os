{% extends "layout.html" %}

{% block title %}Runs - Agent OS Console{% endblock %}

{% block content %}
<h2>Agent Runs</h2>

{% if runs %}
<table class="runs-table">
    <thead>
        <tr>
            <th>Run ID</th>
            <th>Agent</th>
            <th>Status</th>
            <th>Start Time</th>
            <th>Events</th>
            <th>Review</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for run in runs %}
        <tr>
            <td><code>{{ run.run_id }}</code></td>
            <td>{{ run.agent_name }}</td>
            <td>
                <span class="status status-{{ run.status }}">
                    {{ run.status }}
                </span>
            </td>
            <td>{{ run.start_time | format_timestamp }}</td>
            <td>{{ run.event_count }}</td>
            <td>
                {% if run.review_pending %}
                    <span class="badge badge-warning">Pending</span>
                {% elif run.has_review_request %}
                    <span class="badge badge-success">Reviewed</span>
                {% else %}
                    <span class="badge badge-default">N/A</span>
                {% endif %}
            </td>
            <td>
                <a href="{{ url_for('run_detail', run_id=run.run_id) }}" class="btn btn-sm">View</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p class="empty-state">No runs found. Run an agent to see results here.</p>
{% endif %}
{% endblock %}
